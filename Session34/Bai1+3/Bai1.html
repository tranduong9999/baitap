<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
</head>
<body>
    <style>
        input {
            border-radius: 5px;
            border: 1px solid black;
            height: 23px;
            width: 220px;
        }
        button {
            margin-top: 10px;
        }
    </style>

    <form id="registerForm">
        <h1>Register</h1>
        <label for="email">Email</label><br>
        <input type="text" id="email" ><br>
        <label for="password">Password:</label><br>
        <input type="password" id="password" ><br>
        <label for="confirmPassword">Confirm Password:</label><br>
        <input type="password" id="confirmPassword"><br>
        <button type="submit">Dang ki</button>
    </form>

    <script>
        let users = JSON.parse(localStorage.getItem("users")) || [];

        document.getElementById('registerForm').addEventListener('submit', function(event) {
            event.preventDefault(); 

            let email = document.getElementById('email').value;
            let password = document.getElementById('password').value;
            let confirmPassword = document.getElementById('confirmPassword').value;

            let emailExists = users.some(user => user.email === email);
            if (emailExists) {
                console.log("Email này đã tồn tại");
                return;
            }

            if (email === '') {
                console.log("Email không được để trống");
                return;
            }

            if (password === '') {
                console.log("Mật khẩu không được để trống");
                return;
            }

            if (password !== confirmPassword) {
                console.log("Mật khẩu và xác nhận mật khẩu không trùng khớp");
                return;
            }

            let newUser = {
                id: Math.floor(Math.random() * 927342364), 
                email: email,
                password: password,
            };

            users.push(newUser);
            localStorage.setItem("users", JSON.stringify(users));
            window.location.href = "Bai3.html"
        });
    </script>
</body>
</html>
